<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Vapor Documentation</title>

        <link rel="stylesheet"  href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
        <link rel="stylesheet"  href="https://fonts.googleapis.com/css?family=Quicksand:400,700,300">
        <link rel="stylesheet" href="https://qutheory.github.io/documentation/styles/qutheory-code.css">
        <link rel="stylesheet" href="https://qutheory.github.io/documentation/styles/main.css">
    </head>
    <body>

        <header>
            <a class="logo" href="https://qutheory.github.io/documentation/">
                <img src="https://qutheory.github.io/documentation/images/droplet.svg" alt="Vapor">
                <h1>Vapor <em>Docs</em></h1>
            </a>
            <ul>
                <li>
                    <a href="http://qutheory.io">Home</a>
                </li>
                <li>
                    <a href="http://example.qutheory.io">Example</a>
                </li>
                <li>
                    <a href="https://github.com/qutheory/vapor">GitHub</a>
                </li>
                <li>
                    <a href="https://twitter.com/@qutheory">Twitter</a>
                </li>
                <li>
                    <a href="http://slack.qutheory.io">Slack</a>
                </li>
            </ul>
        </header>

        <nav>
            <div class="scroll">
                            <section>
                    <h3>Getting Started</h3>
                    <ul>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/getting-started/install-swift-3-macos.html">
                                Install Swift 3: macOS
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/getting-started/install-swift-3-ubuntu.html">
                                Install Swift 3: Ubuntu
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/getting-started/install-swift-3.html">
                                Install Swift 3
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/getting-started/install-toolbox.html">
                                Install Toolbox
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/getting-started/hello-world.html">
                                Hello, World
                            </a>
                        </li>
                                        </ul>
                </section>
                            <section>
                    <h3>Guide</h3>
                    <ul>
                                            <li class="active">
                            <a href="https://qutheory.github.io/documentation/guide/droplet.html">
                                Droplet
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/guide/folder-structure.html">
                                Folder Structure
                            </a>
                        </li>
                                            <li class="">
                            <a href="https://qutheory.github.io/documentation/guide/routing.html">
                                Routing
                            </a>
                        </li>
                                        </ul>
                </section>
                        </div>
        </nav>

        <main>
            <a href="https://github.com/qutheory/documentation/blob/master/CONTRIBUTING.md" class="edit">âœŽ Edit on GitHub</a>
            <h1 id="droplet">Droplet</h1>
<p>The <code>Droplet</code> is a service container that gives you access to many of Vapor's facilities. It is responsible for registering routes, starting the server, appending middleware, and more.</p>
<h2 id="initialization">Initialization</h2>
<p>As you have probably already seen, the only thing required to create an instance of <code>Droplet</code> is to import Vapor.</p>
<pre><code class="language-swift">import Vapor

let drop = Droplet()

// your magic here

drop.start()</code></pre>
<p>Creation of the <code>Droplet</code> normally happens in the <code>main.swift</code> file.</p>
<h2 id="environment">Environment</h2>
<p>The <code>environment</code> property contains the current environment your application is running in. Usually development, testing, or production.</p>
<pre><code class="language-swift">if drop.config.environment == .production {
    ...
}</code></pre>
<p>The environment affects <a href="config.html">Config</a> and <a href="log.html">Logging</a>. The environment is <code>development</code> by default. To change it, pass the <code>--env=</code> flag as an argument.</p>
<pre><code class="language-sh">vapor run serve --env=production</code></pre>
<p>If you are in Xcode, you can pass arguments through the scheme editor.</p>
<blockquote>
<p>Note: Debug logs can reduce the number of requests your application can handle per second. Enabling the production environment can improve performance.</p>
</blockquote>
<h2 id="working-directory">Working Directory</h2>
<p>The <code>workDir</code> property contains a path to the current working directory of the application relative to where it was started. By default, this property assumes you started the Droplet from its root directory.</p>
<pre><code class="language-swift">drop.workDir // "/var/www/my-project/"</code></pre>
<p>You can override the working directory through the <code>Droplet</code>'s initializer, or by passing the <code>--workdir</code> argument.</p>
<pre><code class="language-sh">vapor run serve --workdir="/var/www/my-project"</code></pre>
<h2 id="initialization-1">Initialization</h2>
<p>The <code>Droplet</code> has several customizable properties.</p>
<p>Most plugins for Vapor come with a <a href="providers.html">Provider</a>, these take care of configuration details for you.</p>
<pre><code class="language-swift">Droplet(
    arguments: [String]?,
    workDir workDirProvided: String?,
    config configProvided: Config?,
    localization localizationProvided: Localization?,
    server: ServerProtocol.Type?,
    sessions: Sessions?,
    hash: Hash?,
    console: ConsoleProtocol?,
    log: Log?,
    client: ClientProtocol.Type?,
    database: Database?,
    preparations: [Preparation.Type],
    providers: [Provider.Type],
    initializedProviders: [Provider]
)</code></pre>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="https://qutheory.github.io/documentation/scripts/highlight.pack.js"></script>

        <script>
            $(function() {
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
